<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Index</title>
  <link href="assets/main.css" rel="stylesheet">
  <script src="main.js" defer type="module"></script>
</head>
<body>
  <div id="app">
    <div class="nav-bar"></div>
    <div class="cart" text-cart></div>
    <div class="product-display">
      <div class="product-container">
        <div class="product-image">    
          <img src-image>
        </div>
        <div class="product-info">
          <h1 text-product></h1>
          <p text-stock></p>
          <ul>
            <li class="a" li-details></li>
          </ul>
          <div class="a" div-variants mouseover-updateImage></div>

          <button class="button" click-addToCart>Add to cart</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module">

    import { updateText, updateSrc, createEls, addEvent } from './main.js'

    const product = 'product'
    updateText({product})

    const image = './assets/images/socks_green.jpeg'
    updateSrc({image})

    const stock = 'In Stock'
    updateText({stock})

    let cart = 0
    updateText({cart})

    const details = ['50% cotton', '30% wool', '20% polyester']
    createEls('li', {details});

    const variants = [
      { id: 2234, color: 'green' , image: './assets/images/socks_green.jpeg'},
      { id: 2235, color: 'blue' , image: './assets/images/socks_blue.jpeg'},
    ]
    createEls('div', {variants}, 'color')

    const addToCart = function () {
      cart++;
      updateText({cart})
    }

    const updateImage = function(e) {
      const id = e.target.getAttribute('elid')
      const obj = variants.find(v => v.id == id)
      updateSrc({image: obj.image})
    }

    addEvent('click', {addToCart})
    addEvent('mouseover', {updateImage})

  </script>
</body>
</html>